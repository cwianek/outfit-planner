<div class="p-3 text-center">
  <span class="header-4">Select you outfit for today!</span>
</div>

<p-menu class="menu" #menu [model]="items" [popup]="true"></p-menu>

<div class="card outfits-carousel-2 d-flex">
  <div class="dots-button d-flex justify-content-end">
    <p-button
      *ngIf="(isLoggedIn$ | async) as loggedIn"
      (onClick)="menu.toggle($event)"
      type="button"
      [styleClass]="'p-button-text more-action-button p-button-danger p-button-rounded tp-button-outlined'"
      icon="pi pi-ellipsis-v">
    </p-button>
  </div>

  <div *ngIf="!orderedOutfits?.length">
    <p-carousel [numVisible]="1" [value]="['empty']" [showIndicators]="false">
      <ng-template let-product pTemplate="item">
        <div class="p-5 d-flex justify-content-center h-100">
          <span>Add your first outfit at first</span>
        </div>
      </ng-template>
    </p-carousel>
  </div>

  <p-carousel *ngIf="orderedOutfits?.length" contentClass="carousel-content" [value]="orderedOutfits" [numVisible]="1"
              [circular]="true"
              [showIndicators]="false">
    <ng-template let-product pTemplate="item">
      <div class="py-4 d-flex flex-column h-100">
        <outfit-planner-mf-outfit-preview class="flex-grow-1" [outfit]="product"></outfit-planner-mf-outfit-preview>
        <div class="mt-3 d-flex flex-column align-items-center justify-content-center">

          <div class="py-3">
            <span class="match-probability">recommended in </span><span
            class="match-probability--recommended">{{product.matchProbability || 0}}%</span></div>

          <div>
            <p-button (onClick)="toggleSelection(product)"
                      type="button"
                      [styleClass]="product.wornToday ? 'p-button-rounded toggle-button-filled mr-2' : 'p-button-rounded toggle-button p-button-outlined mr-2'"
                      icon="pi pi-check">
            </p-button>
          </div>

        </div>
      </div>
    </ng-template>
  </p-carousel>
</div>

